"use strict";const donationButtons=document.getElementsByClassName("donation-button"),generalPage=document.getElementById("general");function hideAllPages(){var e=document.getElementsByClassName("start__link");Array.from(e).forEach(e=>{e=e.getAttribute("data-nav");document.getElementById(""+e).classList.add(e+"--hide"),document.getElementById(""+e).classList.remove(e+"--show")})}function menuPageHideAndShowDonationPage(){var e=document.querySelectorAll(".nav__link");Array.from(e).forEach(e=>{e.classList.remove("nav__link--active"),"general"===e.getAttribute("data-item")&&e.classList.add("nav__link--active")}),generalPage.classList.remove("general--hide"),generalPage.classList.add("general--show"),menuPage.classList.add("start--hide")}function handleButtonClick(){hideAllPages(),menuPageHideAndShowDonationPage()}Array.from(donationButtons).forEach(e=>{e.addEventListener("click",handleButtonClick)});let flat=null,accessoryType=null,buyerData=null;const form=document.querySelector(".general__form"),flatType=document.querySelector(".flat-type"),flatTypeList=document.querySelector(".flat-type__list"),accessoryTypeList=document.querySelector(".accessory-type"),buyerPage=document.querySelector(".buyer"),thankYouPagePage=document.getElementById("thank-you-page"),certificatePage=document.querySelector(".certificate"),accessoriesСontent=document.querySelector(".accessory-type"),accessoriesItems=[...accessoriesСontent.children],flatAccessories=document.getElementById("accessories-flat"),balconyAccessories=document.getElementById("accessories-balcony"),terraceAccessories=document.getElementById("accessories-terrace"),buyerBackText=document.querySelector(".buyer__back-text"),donateSum=document.querySelector(".buyer__sum"),toDownloadButton=document.querySelector(".thank-you-page__download"),toCertificateButton=document.querySelector(".certificate__button");function flatTypeVar(e){e.preventDefault();var t=e.target.value,a=+e.target.getAttribute("data-flat-price"),e=e.target.getAttribute("data-flat-placeholder");flat=t,flatType.classList.add("flat-type--hide"),donateSum.min=a,donateSum.setAttribute("placeholder",e),"flat"===flat?flatAccessories.classList.remove("accessories-styles--hide"):"balcony"===flat?balconyAccessories.classList.remove("accessories-styles--hide"):"terrace"===flat&&terraceAccessories.classList.remove("accessories-styles--hide")}function accessoriesTypeVar(e){e.preventDefault();var t=e.target.value;e.target.parentElement.classList.contains("accessories-styles__label")&&(accessoryType=t,buyerPage.classList.remove("buyer--hide"),accessoriesItems.forEach(e=>{e.classList.contains("accessories-styles--hide")||e.classList.add("accessories-styles--hide")}),buyerBackText.innerText=e.target.getAttribute("data-text")),e.target.classList.contains("back-button")&&(flat=null,flatType.classList.remove("flat-type--hide"),e.target.parentElement.classList.add("accessories-styles--hide"))}function backToAccessoriesType(e){if("submit"!==e.target.type&&(e.preventDefault(),e.target.classList.contains("buyer__img")))switch(accessoryType=null,buyerPage.classList.add("buyer--hide"),flat){case"flat":flatAccessories.classList.remove("accessories-styles--hide");break;case"balcony":balconyAccessories.classList.remove("accessories-styles--hide");break;case"terrace":terraceAccessories.classList.remove("accessories-styles--hide")}}function handleSubmit(e){e.preventDefault(),buyerData={name:document.getElementById("name").value,email:document.getElementById("email").value,text:document.getElementById("balconyText").value,donate:document.getElementById("donationAmount").value},buyerPage.classList.add("buyer--hide"),e.submitter.classList.contains("thank-you-page__download")||thankYouPagePage.classList.remove("thank-you-page--hide"),console.log(flat,accessoryType,buyerData),flat=null,accessoryType=null,buyerData=null}function toCertificatePage(e){e.target.classList.contains("thank-you-page__download")&&(thankYouPagePage.classList.add("thank-you-page--hide"),certificatePage.classList.remove("certificate--hide")),e.target.classList.contains("thank-you-page__to-flat")&&alert("Ще не придумали")}function downloadCertificate(e){e.preventDefault(),alert("Тут має початись скачування сертифікату")}flatTypeList.addEventListener("click",flatTypeVar),accessoryTypeList.addEventListener("click",accessoriesTypeVar),buyerPage.addEventListener("click",backToAccessoriesType),thankYouPagePage.addEventListener("click",toCertificatePage),toCertificateButton.addEventListener("click",downloadCertificate),form.addEventListener("submit",handleSubmit);const list=document.querySelector(".start__list"),title=document.querySelectorAll(".start__link"),startPage=document.querySelector(".start"),generalPageMenu=document.getElementById("general"),menuLinks=document.querySelectorAll(".start__link"),menuLinksDesktop=document.querySelectorAll(".nav__link"),button=document.querySelector(".burger-menu__button"),back=document.querySelector(".burger-menu__back"),header=document.querySelector(".burger-menu__header"),burgerMenu=document.querySelector(".menu-content"),navigation=document.querySelector("nav"),menuPage=document.getElementById("start"),thankYouPage=document.querySelector(".thank-you-page");function hideNavElement(e,t){e.classList.remove(t+"--show")}function showElement(e){document.getElementById(e).classList.add(e+"--show")}function hideElements(e){document.getElementById(e).classList.remove(e+"--show"),document.getElementById("general").classList.remove("show__general__desktop")}function openMobileMenu(e){startPage.classList.remove("start--hide"),e.classList.remove("burger-menu__button--open"),e.classList.add("burger-menu__button--close"),header.classList.add("burger-menu__header--active"),burgerMenu.classList.remove("menu-content--hide")}function closeMobileMenu(e){e.classList.add("burger-menu__button--open"),e.classList.remove("burger-menu__button--close"),header.classList.remove("burger-menu__header--active"),burgerMenu.classList.add("menu-content--hide")}function backToNavigation(){button.classList.remove("burger-menu__button--hide"),back.classList.add("burger-menu__back--hide"),startPage.classList.remove("start--hide"),document.getElementById("general").classList.add("show__general__desktop"),Array.from(menuLinksDesktop).forEach(e=>{"general"!==e.getAttribute("data-item")?e.classList.remove("nav__link--active"):e.classList.add("nav__link--active")}),thankYouPage.classList.contains("thank-you-page--hide")||(thankYouPage.classList.add("thank-you-page--hide"),flatType.classList.remove("flat-type--hide")),certificatePage.classList.contains("certificate--hide")||(certificatePage.classList.add("certificate--hide"),flatType.classList.remove("flat-type--hide"))}function updateNavElements(a){Array.from(menuLinks).forEach(e=>{var e=e.getAttribute("data-nav"),t=document.getElementById(e);a(t,e)})}function activateLink(e){e.classList.add("nav__link--active"),startPage.classList.add("start--hide"),header.classList.add("burger-menu__header--active"),button.classList.add("burger-menu__button--hide"),button.classList.remove("burger-menu__button--open"),button.classList.add("burger-menu__button--close"),back.classList.remove("burger-menu__back--hide"),burgerMenu.classList.remove("menu-content--hide")}function deactivateLinks(e){Array.from(e).forEach(e=>{e.classList.remove("nav__link--active"),hideElements(e.getAttribute("data-item"))})}navigation.addEventListener("click",e=>{var t,e=e.target;e.classList.contains("nav__link")&&(deactivateLinks(document.querySelectorAll(".nav__link"),t=e.getAttribute("data-item")),showElement(t),activateLink(e))}),header.addEventListener("click",e=>{e=e.target;e.classList.contains("burger-menu__button--open")?(openMobileMenu(e),updateNavElements(hideNavElement)):e.classList.contains("burger-menu__button--close")?(closeMobileMenu(e),updateNavElements((e,t)=>{"general"!==t?hideNavElement(e,t):showElement(t)})):e.classList.contains("burger-menu__back")&&(backToNavigation(e),updateNavElements((e,t)=>{e.classList.remove(t+"--show",t+"--hide")}))}),Array.from(menuLinks).forEach(e=>{e.addEventListener("click",()=>{startPage.classList.add("start--hide");const t=e.getAttribute("data-nav");document.getElementById("general").classList.remove("show__general__desktop"),showElement(t),Array.from(menuLinksDesktop).forEach(e=>{e.getAttribute("data-item")===t?e.classList.add("nav__link--active"):e.classList.remove("nav__link--active")}),button.classList.add("burger-menu__button--hide"),back.classList.remove("burger-menu__back--hide")})}),window.onload=function(){document.getElementById("bottom").scrollIntoView(!0)};const terget=1e7,alreadyHave=document.querySelector(".purpose__bar").getAttribute("data-fill"),fillElement=document.querySelector(".purpose__fill"),countElement=document.querySelector(".purpose__count"),percentage=alreadyHave/(terget/100);fillElement.style.width=percentage+"%",countElement.textContent=alreadyHave+" / "+terget;